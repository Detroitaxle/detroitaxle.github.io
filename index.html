<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detroit Axle State Delivery Tracker</title>
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="shortcut icon" href="favicon.ico">
  <style>
    :root {
      --bg-dark: #121212;
      --highlight: #e0582f;
      --text: #ffffff;
      --transition-fast: 0.2s ease-in-out;
      --transition-slow: 0.5s cubic-bezier(0.77, 0, 0.175, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: var(--bg-dark);
      color: var(--text);
      font-family: Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      flex-direction: column;
      min-height: 100vh;
      padding-top: 80px;
      transition: background-color var(--transition-slow);
    }

    header {
      position: fixed;
      top: 0;
      width: 100%;
      background-color: #1a1a1a;
      padding: 20px;
      text-align: center;
      font-size: 1.8rem;
      color: var(--highlight);
      z-index: 1000;
    }

    .choices {
      display: flex;
      flex-direction: column;
      gap: 20px;
      text-align: center;
    }

    .choice {
      background: var(--highlight);
      color: var(--text);
      padding: 20px 40px;
      border-radius: 8px;
      font-size: 1.5rem;
      cursor: pointer;
      transition: transform var(--transition-slow), background var(--transition-fast);
    }

    .choice:hover {
      transform: scale(1.05);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 20px;
      width: 90vw;
      max-width: 1000px;
      padding: 20px;
    }

    .state {
      background: #1f1f1f;
      color: var(--text);
      padding: 20px;
      text-align: center;
      border-radius: 6px;
      transition: transform var(--transition-slow), grid-column var(--transition-slow);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .state:hover {
      background-color: var(--highlight);
    }

    .state.expanded {
      grid-column: span 3;
      grid-row: span 2;
      background-color: #2a2a2a;
      z-index: 1;
      transform: scale(1.05);
    }

    .details {
      margin-top: 10px;
      font-size: 0.9rem;
    }

    .highlight {
      color: var(--highlight);
      font-weight: bold;
    }

    .back-btn {
      margin: 20px;
      background: transparent;
      border: 2px solid var(--highlight);
      color: var(--highlight);
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      transition: background var(--transition-fast), color var(--transition-fast);
    }

    .back-btn:hover {
      background: var(--highlight);
      color: var(--text);
    }
  </style>
</head>
<body>
  <header>Detroit Axle</header>

  <div id="app">
    <div class="choices" id="start-screen">
      <div class="choice" onclick="selectRegion('DAXDT')">Detroit DAXDT</div>
      <div class="choice" onclick="selectRegion('DAXJZ')">Texas DAXJZ</div>
    </div>

    <button class="back-btn" id="back-btn" style="display: none;" onclick="goBack()">Back</button>

    <div class="grid" id="state-grid" style="display: none;"></div>
  </div>

  <script>
    const states = ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"];

    const fedexFrom = {
      DAXDT: "2000 Eight Mile Road, Ferndale, MI US 48220",
      DAXJZ: "El Paso, Texas"
    };

    function selectRegion(region) {
      document.getElementById("start-screen").style.display = "none";
      document.getElementById("back-btn").style.display = "inline-block";
      const grid = document.getElementById("state-grid");
      grid.style.display = "grid";
      grid.innerHTML = "";
      states.forEach(state => {
        const div = document.createElement("div");
        div.className = "state";
        div.innerHTML = `<strong>${state}</strong><div style="font-size: 0.75rem;">${getStateName(state)}</div>`;
        div.setAttribute('data-state', state);
        div.onclick = () => expandState(div, state, region);
        grid.appendChild(div);
      });
    }

    function goBack() {
      document.getElementById("state-grid").style.display = "none";
      document.getElementById("back-btn").style.display = "none";
      document.getElementById("start-screen").style.display = "flex";
    }

    async function expandState(div, state, region) {
      document.querySelectorAll('.state').forEach(el => {
        el.classList.remove('expanded');
        el.innerHTML = `<strong>${el.getAttribute('data-state')}</strong><div style="font-size: 0.75rem;">${getStateName(el.getAttribute('data-state'))}</div>`;
      });

      div.classList.add('expanded');

      const localTime = new Date().toLocaleTimeString("en-US", { timeZone: getTimeZone(state), timeStyle: 'short' });
      const deliveryTime = await getFedExEstimate(region, state);

      div.innerHTML = `
        <strong>${state}</strong>
        <div style="font-size: 0.75rem;">${getStateName(state)}</div>
        <div class="details">
          Local Time: ${localTime}<br>
          Delivery ETA: <span class="highlight">${deliveryTime} days</span>
        </div>
      `;
    }

    function getStateName(abbr) {
      const stateNames = {
        "AL": "Alabama", "AK": "Alaska", "AZ": "Arizona", "AR": "Arkansas", "CA": "California",
        "CO": "Colorado", "CT": "Connecticut", "DE": "Delaware", "FL": "Florida", "GA": "Georgia",
        "HI": "Hawaii", "ID": "Idaho", "IL": "Illinois", "IN": "Indiana", "IA": "Iowa",
        "KS": "Kansas", "KY": "Kentucky", "LA": "Louisiana", "ME": "Maine", "MD": "Maryland",
        "MA": "Massachusetts", "MI": "Michigan", "MN": "Minnesota", "MS": "Mississippi", "MO": "Missouri",
        "MT": "Montana", "NE": "Nebraska", "NV": "Nevada", "NH": "New Hampshire", "NJ": "New Jersey",
        "NM": "New Mexico", "NY": "New York", "NC": "North Carolina", "ND": "North Dakota", "OH": "Ohio",
        "OK": "Oklahoma", "OR": "Oregon", "PA": "Pennsylvania", "RI": "Rhode Island", "SC": "South Carolina",
        "SD": "South Dakota", "TN": "Tennessee", "TX": "Texas", "UT": "Utah", "VT": "Vermont",
        "VA": "Virginia", "WA": "Washington", "WV": "West Virginia", "WI": "Wisconsin", "WY": "Wyoming"
      };
      return stateNames[abbr] || abbr;
    }

    function getTimeZone(state) {
      const tzMap = {
        "CA": "America/Los_Angeles", "TX": "America/Chicago", "NY": "America/New_York", "MI": "America/Detroit"
      };
      return tzMap[state] || "America/Chicago";
    }

    async function getFedExEstimate(region, state) {
      const baseDays = {
        "CA": 5, "TX": 2, "NY": 3, "MI": 1
      };
      const estimated = baseDays[state] || 4;
      return estimated;
    }
  </script>
</body>
</html>
